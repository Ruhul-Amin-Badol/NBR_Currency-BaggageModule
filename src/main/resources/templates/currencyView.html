<div th:replace="~{layout/support}"></div>


<style type="text/css">
    @media print {
        .brack { page-break-after: always; }
    }

    #pr input[type="button"] {
        width: 70px;
        height: 25px;
        background-color: #ebfffa;
        color: #333;
        font-weight: bolder;
        border-radius: 5px;
        border: 1px solid #333;
        cursor: pointer;
    }
    .p1 {
        margin: 0px;
        line-height: 1.5;
    }
    .p {
        margin: 0px;
        line-height: 1.5;
    }
    .pt {
        padding-top: 30px;
    }
    .b {
        font-weight: bold;
    }
    .ft-35 {
        font-size: 35px;
    }
    .ft-34 {
        font-size: 34px;
    }
    .ft-33 {
        font-size: 33px;
    }
    .ft-32 {
        font-size: 32px;
    }
    .ft-31 {
        font-size: 31px;
    }
    .ft-30 {
        font-size: 30px;
    }
    .ft-29 {
        font-size: 29px;
    }
    .ft-25 {
        font-size: 25px;
    }
    .ft-24 {
        font-size: 24px;
    }
    .ft-23 {
        font-size: 23px;
    }
    .ft-22 {
        font-size: 22px;
    }
    .ft-20 {
        font-size: 20px;
    }
    .ft-19 {
        font-size: 19px;
    }
    .ft-18 {
        font-size: 18px;
    }
    .ft-14 {
        font-size: 14px;
    }
</style>
</head>
<body style="font-family: Tahoma, Geneva, sans-serif; ">

<div class="page_brack" >

    <span id="print_id">
        <input type="button" class="btn btn-success btn-sm" value="print" id="print_btn" onClick="custom_print()">
        <a href="/currencystart/show"><input type="button" class="btn btn-success btn-sm" value="Go Back" id="go_back" ></a>
    </span>

    <table width="1000" border="0" cellspacing="0" cellpadding="0" align="center" >
       
        <thead style="width:100%">
        <tr>
            <td colspan="8" ‍align="center">
                <p class="p b ft-30" align="center" style="margin-right:-30%;">বৈদেশিক মুদ্রা ঘোষণা ফরম</p>
                <p class="p ft-25" align="center" style="margin-right:-30%;">(Foreign Exchange Declaration Form)</p>
            </td>

            <td colspan="4">
                <div align="center" style="border:1px solid #333; padding-top:5px; padding-bottom:5px; font-size:16px;">
                    <P class="p b" style="font-size:15px;"> এফএমজে ফরম</P>
                    <p class="p b" style="font-size:15px;">FMJ FORM</p>
                </div>
            </td>
        </tr>
        <tr>
            <td colspan="12"> &nbsp</td>
        </tr>
        <tr> 
        <td colspan="12">
            <p class="p b" align="center"> (১৯৪৭ সালের বৈদেশিক মুদ্রা নিয়ন্ত্রণ আইন এর ৮(১) ধারা অনুযায়ী বাংলাদেশ ব্যাংক কর্তৃক প্রবর্তিত)</p>
            <p class="p" align="center">(Prescribed by Bangladesh Bank under Section 8(I) of the Foreign Exchange Regulation Act, 1947)</p>
        </td>

        </tr>
        </thead>
        <tbody th:object="${Currency}">
            <input type="hidden" id="CurrencyIdGeneral" name="CurrencyIdGeneral" th:value="${Currency['id']}" />
            <tr>
                <td colspan="12"> &nbsp</td>
            </tr>
            <tr> 
                <td colspan="12">
                    <p class="p b" align="left"> এই ফরমটি বাংলাদেশের আগমনকারী ব্যক্তি কর্তৃক পুরণ করিতে হইবে।</p>
                    <p class="p" align="left"> This form is to be filled in by a person entering Bangladesh. </p>
                </td>

            </tr>

            <tr>
                <td colspan="6" class="pt">
                    <p class="p b" align="left">পূর্ণ নামঃ</p>
                    <p class="p" align="left" >(Full Name): <span th:text="${Currency.passengerName}"></span></p>
                </td>
                <td colspan="6" class="pt">
                    <p class="p b" align="left">জাতীয়তাঃ</p>
                    <p class="p" align="left">(Nationality): <span th:text="${Currency.nationality}"></span></p>
                </td>
            </tr>

            <tr>
                <td colspan="4" class="pt">
                    <p class="p b" align="left">পাসপের্ট নংঃ</p>
                    <p class="p" align="left">(Passport No): <span th:text="${Currency.passportNumber}"></span></p>
                </td>
                <td colspan="4" class="pt">
                    <p class="p b" align="left">ইস্যুর তারিখঃ</p>
                    <p class="p" align="left">(Date of Issue): <span th:text="${Currency.passportIssueDate}"></span></p>
                </td>
                <td colspan="4" class="pt">
                    <p class="p b" align="left">ইস্যুর স্থানঃ</p>
                    <p class="p" align="left">(Place of Issue): <span th:text="${Currency.passportIssuePlace}"></span></p>
                </td>
            </tr>

            <tr>
                <td colspan="6" class="pt">
                    <p class="p b" align="left">আগমনের তারিখ ও সময়ঃ</p>
                    <p class="p" align="left">(Date & time of arrival):<span th:text="${Currency.dateOfArrival}"></span></p>
                </td>
                <td colspan="6" class="pt">
                    <p class="p b" align="left">ফ্লাইট নম্বরঃ</p>
                    <p class="p" align="left">(Flight No): <span th:text="${Currency.flightNo}"></span></p>
                </td>
            </tr>

            <tr>
                <td colspan="6" class="pt">
                    <p class="p b" align="left">বাংলাদেশে ঠিকানাঃ</p>
                    <p class="p" align="left">(Address in Bangladesh): <span th:text="${Currency.addressInBangladesh}"></span></p>
                </td>
                <td colspan="6" class="pt">
                    <p class="p b" align="left">বিদেশে আবস্থানের মেয়াদঃ</p>
                    <p class="p" align="left">(Duration of stay in abroad): <span th:text="${Currency.stayTimeAbroad}"></span></p>
                </td>
            </tr>

            <tr>
                <td colspan="6" class="pt">
                    <p class="p b" align="left">পেশাঃ</p>
                    <p class="p" align="left">(Profession): <span th:text="${Currency.profession}"></span></p>
                </td>
                <td colspan="6" class="pt">
                    <p class="p b" align="left">যোগাযোগ নম্বরঃ</p>
                    <p class="p" align="left">(Contact No): <span th:text="${Currency.contactNo}"></span></p>
                </td>
            </tr>

        </tbody>

    </table>

    <table width="1000" border="0" cellspacing="0" cellpadding="0" align="center" style="padding-top:70px;" th:object="${Baggagecurrency}">
        <thead style="width:100%">
        <tr>
            <td colspan="12" ‍align="center" style="border-bottom:1px solid #333;">
                <p class="p b ft-20" align="center">ঘোষণা</p>
                <p class="p b ft-18" style=" padding-bottom:8px;" align="center">DECLARATION</p>
            </td>

        </tr>
        <tr> 
        <td colspan="12">
            <p class="p b" align="center" style="text-align:justify;">সঙ্গে আনীত নগদ বৈদেশিক মুদ্রা এরং হস্ত্রান্তরযোগ্য বাহকের দলিল (ড্রাফট, পে অর্ডার, ট্রাভেলার্স চেক প্রভৃতি) / Cash and negotiable bearer instruments in foreign currency (drafts, pay orders, traveler's cheques etc.) in:  </p>
        </td>

        </tr>
        </thead>
        <tbody>

            <tr>
                <td colspan="12"> 

                <table style="text-align: center; border: 1px solid black;" width="100%" border="1" cellspacing="0" cellpadding="0" >
                    <thead>
                        <tr>
                            <th style="border: 1px solid black;">
                            <p class="p b" align="center" >
                            বৈদেশিক মুদ্রার বর্ণনা 
                            </p>
                            <p class="p1 b" align="center" >(Description of Currency)</p>
                            </th>
                            <th style="border: 1px solid black;">
                            <p class="p1 b" align="center" >
                            পরিমাণ
                            </p>
                            <p class="p1 b" align="center" >(Amount) </p>
                            </th>
                            <th style="border: 1px solid black;">
                            <p class="p1 b" align="center" >
                            কথায়
                            </p>
                            <p class="p1 b" align="center" >(In Words) </p>
                            </th>
                        </tr>
                    </thead>
                    <tbody th:each="customer : ${Baggagecurrency}">
                       
                            <tr>
                                <td style="border: 1px solid black;" th:text="${customer.currencyName}"> USD </td>
                                <td style="border: 1px solid black;" th:text="${customer.currencyAmount}" class="currency-amount"> USD </td>
                                <td style="border: 1px solid black;" class="currency-words" > One Hundred </td>
                            </tr>
                     
                    </tbody>
                </table>

                </td>
            </tr>

            <tr>
                <td colspan="12"> &nbsp</td>
            </tr>

            <td colspan="12">
            <p class="p b" align="center"> আমি, নিম্নস্বাক্ষরকারী, এতদ্বারা প্রত্যয়ন করিতেছি যে,উপরে প্রদত্ত তথ্যসমূহ সঠিক। </p>
            <p class="p b" align="center">(I, the undersigned, hereby solemnly declare that the information given above is correct.)  </p>
            </td>

            <tr>
                <td colspan="6" class="pt">
                     
                     
                </td>
                <td colspan="6" class="pt">
                     
                     
                </td>
            </tr>
            <tr>
                <td colspan="6" class="pt">
                    <p class="p b" align="left">[Signature of Customs Official]</p>
                    <p class="p" align="left">(Signature of Customs Official): </p>
                    <p class="p" align="left">[Date]</p>
                </td>
                <td colspan="6" class="pt">
                    <span class="fw-bold" th:text="${Currency.passengerName}"></span>
                    <p class="p b" align="left">[Signature of Declarant]</p>
                    <p class="p" align="left">Signature of Declarant:</p>
                    <p class="p" align="left">[Date]</p>
                </td>
            </tr>

        </tbody>

    </table>

    <table style="width:100%;">
     <tr>
        <!-- <td style="text-align:center;">
        <img alt="testing" style="width: 200px; margin-top: 20px;height:80px;" src="sr-bar_code/barcode/barcode.php?codetype=Code39&amp;size=40&amp;text=1234567890&amp;print=true">
        </td> -->
        <div class="d-flex justify-content-center mt-2" id="qrcode">
           
        </div>
        <!-- <div class="d-flex justify-content-center">
            <div id="barcode-value" class="fw-bold"></div>
        </div> -->
     </tr>

     </table>
     <!-- <div class="d-flex justify-content-around">
        <button class="btn btn-danger gap-2"  type="button">Edit</button>
        <button class="btn btn-primary" type="button" onclick="confirm()">Confirm</button>
     </div> -->
</div>
<div class="d-flex justify-content-center">
    <button type="button" class="btn btn-danger btn-lg my-2 mx-3" th:onclick="'redirectToCurrencyEditPage(' + ${Currency.id} + ')'">Edit</button>
    <button type="button" class="btn btn-primary btn-lg my-2" onclick="confirm()">Confirm</button>
</div>
<script>

function qrcode() {
          console.log("fahim");
            // Get the current page's URL
            var currentURL = window.location.href;
             convertCurrencyToWords() 


            // Generate the QR code using an online service (qr.js)
            var qrCodeUrl = "https://api.qrserver.com/v1/create-qr-code/?data=" + encodeURIComponent(currentURL) + "&size=128x128";
            
            // Display the QR code image
            $("#qrcode").html('<img src="' + qrCodeUrl + '" alt="QR Code" />');
        };

        var a = ['','One ','Two ','Three ','Four ', 'Five ','Six ','Seven ','Eight ','Nine ','Ten ','Eleven ','Twelve ','Thirteen ','Fourteen ','Fifteen ','Sixteen ','Seventeen ','Eighteen ','Nineteen '];
var b = ['', '', 'Twenty','Thirty','Forty','Fifty', 'Sixty','Seventy','Eighty','Ninety'];

function inWords (num) {

    if ((num = num.toString()).length > 9) return 'overflow';
    n = ('000000000' + num).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);
    if (!n) return; var str = '';
    str += (n[1] != 0) ? (a[Number(n[1])] || b[n[1][0]] + ' ' + a[n[1][1]]) + 'Crore ' : '';
    str += (n[2] != 0) ? (a[Number(n[2])] || b[n[2][0]] + ' ' + a[n[2][1]]) + 'Lakh ' : '';
    str += (n[3] != 0) ? (a[Number(n[3])] || b[n[3][0]] + ' ' + a[n[3][1]]) + 'Thousand ' : '';
    str += (n[4] != 0) ? (a[Number(n[4])] || b[n[4][0]] + ' ' + a[n[4][1]]) + 'Hundred ' : '';
    str += (n[5] != 0) ? ((str != '') ? 'and ' : '') + (a[Number(n[5])] || b[n[5][0]] + ' ' + a[n[5][1]]) + 'only ' : '';
    
    return str;
}
function convertCurrencyToWords() {
    const currencyAmounts = document.querySelectorAll(".currency-amount");
    const currencyWords = document.querySelectorAll(".currency-words");

    currencyAmounts.forEach((amount, index) => {
        const amountValue = parseInt(amount.textContent);
        const words = inWords(amountValue);
        currencyWords[index].textContent = words;
    });
}
	
    function custom_print(){
    document.getElementById('print_id').style.display='none';
        window.print();
        document.getElementById('print_id').style.display='';
         
    }
    function confirm(){
        event.preventDefault();
    var id=document.getElementById('CurrencyIdGeneral').value;
    console.log(id);
  
    

       window.location.href='/currencystart/confirmgenaral?id='+ id
         
    }

    function redirectToHomePage() {

            // Get the id value from the hidden input field
            var id = document.getElementById("go_back").value;
            var url = "http://localhost:8080/currencystart/show";
            window.location.href = url;
        }

        function redirectToCurrencyEditPage(id) {
    // Redirect to the URL with the 'id' parameter
        window.location.href = '/currencystart/currencyEdit?id=' + id;
        }
        
   //currency barcode js
    function generateBarcode() {
    // Get the value from the hidden input field
    var idValue = document.getElementById("Currency").value*10000;

    // Define the element where you want to display the barcode
    var barcodeElement = document.getElementById("barcode");

    // Generate the barcode using JsBarcode
    JsBarcode(barcodeElement, idValue, {
        format: "CODE128", // Specify the barcode format you want to use
        displayValue: false, // Set to true if you want to display the value alongside the barcode
    });
    var barcodeValueElement = document.getElementById("barcode-value");
    barcodeValueElement.textContent = idValue;
}
window.onload = qrcode;
</script> 

<div th:replace="~{layout/footer}"></div>